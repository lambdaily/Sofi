(function() {
    var cc, fulltext, nextWord, text, textBody, words;
  
    nextWord = function() {
      $("#p" + cc).addClass("highlighted");
      cc++;
      if (cc > fulltext.length - 1) {
        return;
      }
      return window.setTimeout(nextWord, fulltext[cc - 1][1]);
    };
  
    textBody = $('.karaoke-caption').text();
  
    words = textBody.split(' ');
  
    fulltext = [];
  
    $.each(words, function(i) {
      var duration, punctuationAdjustedDuration, word;
      word = words[i];
      duration = word.length * 50;
      punctuationAdjustedDuration = (word.indexOf(',') < 0 ? duration : duration + 600);
      return fulltext.push([word, punctuationAdjustedDuration]);
    });
  
    text = "";
  
    $.each(fulltext, function(a, b) {
      return text += "<span id='p" + a + "'>" + b[0] + "</span> ";
    });
  
    $(".karaoke-caption").html(text);
  
    cc = 0;
  
    nextWord();
  
    cc = 0;
  
  }).call(this);
  
  //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiPGFub255bW91cz4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsUUFBQSxFQUFBLElBQUEsRUFBQSxRQUFBLEVBQUE7O0VBQUEsUUFBQSxHQUFXLFFBQUEsQ0FBQSxDQUFBO0lBQ1QsQ0FBQSxDQUFFLElBQUEsR0FBTyxFQUFULENBQVksQ0FBQyxRQUFiLENBQXNCLGFBQXRCO0lBQ0EsRUFBQTtJQUNBLElBQVcsRUFBQSxHQUFLLFFBQVEsQ0FBQyxNQUFULEdBQWtCLENBQWxDO0FBQUEsYUFBQTs7V0FDQSxNQUFNLENBQUMsVUFBUCxDQUFrQixRQUFsQixFQUE0QixRQUFRLENBQUMsRUFBQSxHQUFLLENBQU4sQ0FBUSxDQUFDLENBQUQsQ0FBNUM7RUFKUzs7RUFNWCxRQUFBLEdBQVcsQ0FBQSxDQUFFLGtCQUFGLENBQXFCLENBQUMsSUFBdEIsQ0FBQTs7RUFDWCxLQUFBLEdBQVEsUUFBUSxDQUFDLEtBQVQsQ0FBZSxHQUFmOztFQUNSLFFBQUEsR0FBVzs7RUFDWCxDQUFDLENBQUMsSUFBRixDQUFPLEtBQVAsRUFBYyxRQUFBLENBQUMsQ0FBRCxDQUFBO0FBQ2QsUUFBQSxRQUFBLEVBQUEsMkJBQUEsRUFBQTtJQUFFLElBQUEsR0FBTyxLQUFLLENBQUMsQ0FBRDtJQUNaLFFBQUEsR0FBVyxJQUFJLENBQUMsTUFBTCxHQUFjO0lBQ3pCLDJCQUFBLEdBQThCLENBQUksSUFBSSxDQUFDLE9BQUwsQ0FBYSxHQUFiLENBQUEsR0FBb0IsQ0FBdkIsR0FBOEIsUUFBOUIsR0FBNkMsUUFBQSxHQUFXLEdBQXpEO1dBQzlCLFFBQVEsQ0FBQyxJQUFULENBQWMsQ0FBQyxJQUFELEVBQU8sMkJBQVAsQ0FBZDtFQUpZLENBQWQ7O0VBTUEsSUFBQSxHQUFPOztFQUNQLENBQUMsQ0FBQyxJQUFGLENBQU8sUUFBUCxFQUFpQixRQUFBLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FBQTtXQUNmLElBQUEsSUFBUSxhQUFBLEdBQWdCLENBQWhCLEdBQW9CLElBQXBCLEdBQTJCLENBQUMsQ0FBQyxDQUFELENBQTVCLEdBQWtDO0VBRDNCLENBQWpCOztFQUdBLENBQUEsQ0FBRSxrQkFBRixDQUFxQixDQUFDLElBQXRCLENBQTJCLElBQTNCOztFQUNBLEVBQUEsR0FBSzs7RUFDTCxRQUFBLENBQUE7O0VBRUEsRUFBQSxHQUFLO0FBdkJMIiwic291cmNlc0NvbnRlbnQiOlsibmV4dFdvcmQgPSAtPlxuICAkKFwiI3BcIiArIGNjKS5hZGRDbGFzcyBcImhpZ2hsaWdodGVkXCJcbiAgY2MrK1xuICByZXR1cm4gIGlmIGNjID4gZnVsbHRleHQubGVuZ3RoIC0gMVxuICB3aW5kb3cuc2V0VGltZW91dCBuZXh0V29yZCwgZnVsbHRleHRbY2MgLSAxXVsxXVxuICBcbnRleHRCb2R5ID0gJCgnLmthcmFva2UtY2FwdGlvbicpLnRleHQoKVxud29yZHMgPSB0ZXh0Qm9keS5zcGxpdCgnICcpXG5mdWxsdGV4dCA9IFtdXG4kLmVhY2ggd29yZHMsIChpKSAtPlxuICB3b3JkID0gd29yZHNbaV1cbiAgZHVyYXRpb24gPSB3b3JkLmxlbmd0aCAqIDUwXG4gIHB1bmN0dWF0aW9uQWRqdXN0ZWREdXJhdGlvbiA9IChpZiB3b3JkLmluZGV4T2YoJywnKSA8IDAgdGhlbiBkdXJhdGlvbiBlbHNlIChkdXJhdGlvbiArIDYwMCkpXG4gIGZ1bGx0ZXh0LnB1c2goW3dvcmQsIHB1bmN0dWF0aW9uQWRqdXN0ZWREdXJhdGlvbl0pXG4gIFxudGV4dCA9IFwiXCJcbiQuZWFjaCBmdWxsdGV4dCwgKGEsIGIpIC0+XG4gIHRleHQgKz0gXCI8c3BhbiBpZD0ncFwiICsgYSArIFwiJz5cIiArIGJbMF0gKyBcIjwvc3Bhbj4gXCJcblxuJChcIi5rYXJhb2tlLWNhcHRpb25cIikuaHRtbCB0ZXh0XG5jYyA9IDBcbm5leHRXb3JkKClcblxuY2MgPSAwIl19
  //# sourceURL=coffeescript